schema: ./hugmenow/web/src/generated/schema.graphql
documents:
  - ./hugmenow/web/src/graphql/**/*.{js,jsx,ts,tsx}
  - ./hugmenow/web/src/components/**/*.{js,jsx,ts,tsx}
  - ./hugmenow/web/src/pages/**/*.{js,jsx,ts,tsx}
# Removing graphql.tsx generation as we're using the Mesh SDK instead
# generates:
#   ./hugmenow/web/src/generated/graphql.tsx:
#     plugins:
#       - typescript
#       - typescript-operations
#       - typescript-react-apollo
#     config:
#       withHooks: true
#       withHOC: false
#       withComponent: false
#       skipTypename: false
#       avoidOptionals: true
#       preResolveTypes: true
#       scalars:
#         DateTime: string
  ./mesh-sdk/index.js:
    plugins:
      - typescript
      - typescript-operations
      - typescript-graphql-request
    config:
      documentMode: string
      skipTypename: true
      dedupeFragments: true
      exportFragmentSpreadSubTypes: true
      preResolveTypes: true
      scalars:
        DateTime: string
      namingConvention:
        typeNames: pascal-case
        enumValues: upper-case
        transformUnderscore: true
  ./mesh-sdk/gql-fragments.js:
    plugins:
      - fragment-matcher
    config:
      module: es2020
      exportFragmentSpreadSubTypes: true
hooks:
  afterAllFileWrite:
    - prettier --write